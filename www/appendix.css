/* ================= appendix.css (scoped, unified with report.css) =================
   Goal: Make appendix tone & manner match report.css while staying safely scoped.
   Strategy: consume report.css tokens via var(), align radii, shadows, paddings, typography.
*/

.apx-scope {
  /* Consume global tokens if present (falls back to same values as report.css) */
  --bg: var(--bg, #f6f8fb);
  --panel: var(--panel, #fff);
  --text: var(--text, #1e293b);
  --muted: var(--muted, #64748b);
  --accent: var(--accent, #2563eb);
  --border: var(--border, #e2e8f0);
  --shadow: var(--shadow, 0 8px 24px rgba(15, 23, 42, 0.08));

  /* Local appendix spacings */
  --gap-y: 16px;
  --radius: 14px; /* match report.css ribbon/cards */
}

.apx-scope *,
.apx-scope *::before,
.apx-scope *::after {
  box-sizing: border-box;
}

/* ===== Header ribbon (match report) ===== */
.apx-scope .billx-ribbon {
  display: grid;
  grid-template-columns: 1fr auto auto;
  gap: 16px;
  align-items: center;
  padding: 14px 16px; /* = report */
  background: linear-gradient(180deg, #eaf2ff, #fff); /* = report */
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}
.apx-scope .billx-titlebox {
  display: flex;
  flex-direction: column;
  gap: 6px;
}
.apx-scope .billx-title {
  margin: 0;
  font-weight: 800;
  font-size: 20px;
  color: #0f172a;
}
.apx-scope .billx-sub {
  color: var(--accent);
  font-weight: 700;
  font-size: 12px;
}

/* ===== Panels (match report) ===== */
.apx-scope .billx-panel {
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 14px 16px; /* = report */
  margin-bottom: var(--gap-y);
  box-shadow: var(--shadow);
}
.apx-scope .billx-panel-title {
  margin: 0 0 10px;
  font-weight: 800;
  color: #0f172a;
}
.apx-scope .placeholder {
  background: repeating-linear-gradient(
    45deg,
    #f9fafb,
    #f9fafb 10px,
    #f3f4f6 10px,
    #f3f4f6 20px
  );
  border: 1px dashed var(--border);
  border-radius: 10px;
}

/* ===== Navset spacing (slightly tighter to match report tone) ===== */
.apx-scope .nav.nav-pills .nav-link {
  padding: 8px 14px;
}
.apx-scope .card {
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}
.apx-scope .card-body {
  padding: 14px 16px;
}

/* ===== Tables (match report defaults) ===== */
.apx-scope .table {
  margin-bottom: 0;
}
.apx-scope .table th,
.apx-scope .table td {
  vertical-align: middle;
}
.apx-scope .small-muted {
  color: var(--muted);
  font-size: 12px;
}

/* ===== Inputs inside appendix ===== */
.apx-scope .form-select,
.apx-scope .form-check-input,
.apx-scope .form-control {
  background: #f8fafc;
  border-color: var(--border);
}
.apx-scope .form-check-inline {
  margin-right: 12px;
}

/* ===== Plotly container fix ===== */
.apx-scope .billx-panel .js-plotly-plot,
.apx-scope .billx-panel .plotly-graph-div {
  width: 100% !important;
  max-width: 100%;
}

/* ===== Soft hr only inside appendix ===== */
.apx-scope hr.soft {
  border-color: var(--border);
  margin: 8px 0 16px;
  opacity: 0.9;
}

/* ===== Utilities ===== */
.apx-scope .mt-0 {
  margin-top: 0 !important;
}
.apx-scope .mb-0 {
  margin-bottom: 0 !important;
}
.apx-scope .mt-1 {
  margin-top: 0.25rem !important;
}
.apx-scope .mb-1 {
  margin-bottom: 0.25rem !important;
}
.apx-scope .mt-2 {
  margin-top: 0.5rem !important;
}
.apx-scope .mb-2 {
  margin-bottom: 0.5rem !important;
}
.apx-scope .mt-3 {
  margin-top: 1rem !important;
}
.apx-scope .mb-3 {
  margin-bottom: 1rem !important;
}
.apx-scope .ms-1 {
  margin-left: 0.25rem !important;
}
.apx-scope .ms-2 {
  margin-left: 0.5rem !important;
}

/* ===== Responsive tweaks ===== */
@media (max-width: 992px) {
  .apx-scope .billx-ribbon {
    padding: 12px 10px;
  }
  .apx-scope .billx-panel {
    padding: 12px 14px;
  }
}
